# ===================================================================================
# NEXTCLOUD BACKUP SERVICE - CONFIGURATION
# ===================================================================================
# 
# Este archivo contiene configuraciones avanzadas para el servicio de backup
# Las variables aquí definidas complementan las del archivo .env principal
# ===================================================================================

# ==============================
# CONFIGURACIÓN DE RSYNC
# ==============================
# Opciones adicionales para rsync
RSYNC_BANDWIDTH_LIMIT=          # Limitar ancho de banda (KB/s, ej: 1000)
RSYNC_TIMEOUT=600               # Timeout para rsync (segundos)
RSYNC_EXCLUDE_PATTERNS="*.tmp,*.lock,.DS_Store,Thumbs.db,*.swp"

# ==============================
# CONFIGURACIÓN DE MYSQL BACKUP
# ==============================
# Opciones para mysqldump
MYSQL_DUMP_SINGLE_TRANSACTION=true
MYSQL_DUMP_ROUTINES=true
MYSQL_DUMP_TRIGGERS=true
MYSQL_DUMP_EVENTS=true
MYSQL_DUMP_EXTENDED_INSERT=true

# ==============================
# CONFIGURACIÓN DE SSH
# ==============================
# Configuraciones de conexión SSH
SSH_CONNECTION_TIMEOUT=30
SSH_SERVER_ALIVE_INTERVAL=60
SSH_SERVER_ALIVE_COUNT_MAX=3
SSH_COMPRESSION=true

# ==============================
# CONFIGURACIÓN DE LOGS
# ==============================
# Niveles de log: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO
LOG_MAX_SIZE_MB=50
LOG_ROTATE_COUNT=5

# ==============================
# CONFIGURACIÓN DE NOTIFICACIONES
# ==============================
# Habilitar notificaciones por email/webhook (opcional)
NOTIFICATIONS_ENABLED=false
NOTIFICATION_EMAIL=""
NOTIFICATION_WEBHOOK=""
NOTIFICATION_ON_SUCCESS=false
NOTIFICATION_ON_ERROR=true

# ==============================
# CONFIGURACIÓN DE VERIFICACIÓN
# ==============================
# Verificación de integridad de backups
VERIFY_BACKUP_INTEGRITY=true
VERIFY_RESTORE_TEST=false       # Ejecutar test de restauración (uso intensivo de recursos)
VERIFY_REMOTE_CHECKSUMS=true

# ==============================
# CONFIGURACIÓN DE PERFORMANCE
# ==============================
# Configuraciones para optimizar rendimiento
PARALLEL_COMPRESSION=true
COMPRESSION_LEVEL=6             # 1-9 (1=rápido/menos compresión, 9=lento/más compresión)
BACKUP_NICE_PRIORITY=10         # Prioridad del proceso (0-20, mayor número = menor prioridad)